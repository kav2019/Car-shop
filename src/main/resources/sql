drop table if exist Car;
create table Car(
    id serial primary key ,
    name varchar not null,
    dateManufacturing int check (dateManufacturing > 0),
    price int check (price > 0),
    description varchar,
    picAvatar varchar(100),
    pics varchar(100),
    user_id int REFERENCES users(id) ON DELETE CASCADE
);

insert into Car (name, dateManufacturing, price, description, picAvatar, pics, user_id) values ('IvanAuto', 1991, 1992, 'aaa', 'i1', 'ddd', 1);

drop table if exists Users cascade;
create table Users(
    id serial primary key ,
    name varchar not null,
    password varchar not null,
    adress varchar,
    phoneNumber int,
    picAvatar varchar(100)
);

insert into Users (name, password, adress, phoneNumber, picAvatar) values ('Ivan', 1991, 'i1', 1111, 'i1');

drop table if exists Auth;
create table Auth(
    id serial primary key ,
    login varchar not null,
    password varchar,
    user_id int REFERENCES users(id)
);


drop table if exists Orders;
create table orders(
    id serial primary key ,
    user_id int REFERENCES user(id),
    car_id int REFERENCES car(id),
    unique(user_id, car_id)
);

create database car_shop;

insert into User (name, yearBorn) values ('Anton', 1991);

delete from car where id = 2;

